
[!](https://ftp.bmp.ovh/imgs/2020/04/9b949d6a00af9c6b.png)
### 结构
* server
    * nodejs+express
* create-react-app + antd

### 实现了大文件分片上传
* 前端对File(继承自Blob)进行切片
* 对File计算生成hash,文件名
* 发请求上传切片，nodejs采用流方式接收数据
* 切片上传完后，前端请求后端合并文件
### 实现秒上传
* 确认文件是否存在
### 实现了断点续上传
* 串行方式上传（并行上传最多并发6个请求，其它排队等，相比串行上传无明显优势）
* 某个切片上传中断，刷新页面或者点按钮恢复后，从该切片上传（该切片从0开始，无法复用）
* 步骤
    * 前端上传前请求sever,是否有已上传成功部分
    * 过滤掉已上传过切片
    * 发请求